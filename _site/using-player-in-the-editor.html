<h1 id="using-your-player">Using your player</h1>

<p>We’ve now coded up the player. Now to use it.</p>

<p>First building. If you forgot to read the <a href="https://godot-rust.github.io/book/intro/hello-world.html">hello world</a> tutorial or are unfamiliar with rust. We use <a href="https://doc.rust-lang.org/cargo/">Cargo</a> in rust land. Execute the following in your rust directory.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cargo build
</code></pre></div></div>

<p>This will create your output directory in the standard rust directory of <code class="highlighter-rouge">target/</code>. Which your <code class="highlighter-rouge">.gdextension</code> in the <code class="highlighter-rouge">godot/</code> directory should point to. This is all covered in better detail in the <a href="https://godot-rust.github.io/book/intro/hello-world.html">hello world</a> tutorial.</p>

<p>At this time you should open your godot editor if it isn’t already. If it is already open you may need to restart it. There is a handy shortcut <code class="highlighter-rouge">Project</code> &gt; <code class="highlighter-rouge">Reload Current Project</code></p>

<p>When things are set up correctly you’ll know because the <code class="highlighter-rouge">Player</code> node will now exist within the possible nodes you can create. Clicking <code class="highlighter-rouge">+</code>, <code class="highlighter-rouge">+ other node</code>, or the ‘add node hotkey’ will open the modal. Type player and if you find it you’ve got it working. If you don’t find it refer to the <a href="https://godot-rust.github.io/book/intro/hello-world.html">hello world tutorial</a></p>

<h1 id="adding-the-children">Adding the children</h1>

<p>Godot will let you know your player node is missing some children, but you can’t expect this to be exhaustive. You should use your understanding of the rust code and the godot engine to implement this properly. The exact items are called out in the <a href="https://docs.godotengine.org/en/stable/getting_started/first_2d_game/index.html#contents">Godot Tutorial</a>.</p>

<h1 id="check-you-added-the-keybinds">Check you added the keybinds</h1>

<p>Adding keybinds was called out in the previous section. How to do this is in the <a href="https://docs.godotengine.org/en/stable/getting_started/first_2d_game/index.html#contents">Godot Tutorial</a>. If you have not done this already now would be a good time to do it.</p>

<h1 id="animations">Animations</h1>

<p>There is no difference with animations when you do it via rust. Follow the <a href="https://docs.godotengine.org/en/stable/getting_started/first_2d_game/index.html#contents">Godot Tutorial</a>. Just be sure the names exactly match the strings in your player code.</p>

<h1 id="the-hit-signal">The Hit Signal</h1>

<p>The only notable difference between godot rust and gscript rust is adding signals. You can do this programmatically in rust, manually code it into the .tscn files. But the most reasonable solution is using the editor. Double clicking the <code class="highlighter-rouge">body_entered(body: Node2D)</code> event you will open the signal attacking modal.</p>

<p>Enable “Advanced”
Click the “Player” node
Press “Pick”</p>

<p>You will now have another modal. This one is empty. Had we been writing in gdscript you’d see functions here. But we are not using gdscript.</p>

<p>Disable “Script Methods Only”</p>

<p>For every other signal this would work fine. But we are using a function that takes an argument and our function doesn’t have an identical type. Therefore our desired function is not displayed.</p>

<p>Disable “Compatible Methods Only”</p>

<p>You should not need to disable that for any other signals in this tutorial.</p>

<p>You can now select <code class="highlighter-rouge">player</code> -&gt;  <code class="highlighter-rouge">on_player_body_entered(_body: PhysicsBody2D)</code></p>

<p>Double Click. Then select connect.</p>

<h1 id="everything-else">Everything else</h1>
<p>Everything else exactly mirrors the <a href="https://docs.godotengine.org/en/stable/getting_started/first_2d_game/index.html#contents">gdscript tutorial</a>. Once you’ve completed the player section you can return here to continue.</p>

<p><a href="https://0awful.github.io/literate-dodge-the-creeps-rust/code-the-player">Previous Page</a> 
<a href="https://0awful.github.io/literate-dodge-the-creeps-rust/code-the-mob">Next Page</a></p>

